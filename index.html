<!DOCTYPE html>
<html>
<head>
  <title>Geolocation Position Example</title>
  <script type="text/javascript" charset="utf-8" src="javascript/cordova-2.8.0.js"></script>
  <script type="text/javascript" charset="utf-8">

    // Set an event to wait for Cordova to load
    //
//    document.addEventListener("deviceready", onDeviceReady, false);

    // Cordova is loaded and Ready
    //
    function onDeviceReady() {
      navigator.geolocation.getCurrentPosition(onGeoSuccess, onGeoError);
    }

    // Display `Position` properties from the geolocation
    //

    function onGeoSuccess(position) {
      lat = position.coords.latitude;
      lon = position.coords.longitude;
      var currentposition = new google.maps.LatLng(lat,lon);

      var mapoptions = {
        zoom: 12,
        center: currentposition,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      };

      var map = new google.maps.Map(document.getElementById("map"), mapoptions);


      var marker = new google.maps.Marker({
        position: currentposition,
        map: map
      });
    }

    // Show an alert if there is a problem getting the geolocation
    //
    function onGeoError(error){
      if (error == 1){
        alert('Turn on geolocation services');
      }
    }

  </script>
</head>
<body onload="onDeviceReady()">
<div id="map" style="border: 1px solid red"></div>
</body>
</html>